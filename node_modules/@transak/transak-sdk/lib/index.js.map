{"version":3,"sources":["../src/transak.ts","../src/Constants/environments.ts","../src/Constants/events.ts","../src/Utils/generate-global-transak-url.ts","../src/Constants/web-app-urls.ts","../package.json","../src/Utils/create-iframe.ts","../src/Components/custom-container/generate-custom-container-css.ts","../src/Components/custom-container/insert-custom-container-style-to-html-head.ts","../src/Components/custom-container/render-iframe-in-custom-container.ts","../src/Utils/handle-events.ts","../src/Assets/svg/close-icon.ts","../src/Components/modal/generate-modal-css.ts","../src/Components/modal/insert-modal-style-to-html-head.ts","../src/Components/modal/render-iframe-in-modal.ts"],"sourcesContent":["import events from 'events';\nimport { Environments } from 'Constants/environments';\nimport { Events } from 'Constants/events';\nimport { renderIframeInCustomContainer } from 'Components/custom-container/render-iframe-in-custom-container';\nimport { makeHandleEvents } from 'Utils/handle-events';\nimport { renderIframeInModal } from 'Components/modal/render-iframe-in-modal';\nimport { TransakConfig } from 'Types/sdk-config.types';\n\nconst eventEmitter = new events.EventEmitter();\n\nclass Transak {\n  readonly #config: TransakConfig;\n\n  #styleElement?: HTMLStyleElement;\n\n  #rootElement?: HTMLDivElement;\n\n  #iframeElement?: HTMLIFrameElement;\n\n  #handleMessage: (event: MessageEvent<{ event_id: Events; data: unknown }>) => void;\n\n  #isInitialized = false;\n\n  static readonly ENVIRONMENTS = Environments;\n\n  static readonly EVENTS = Events;\n\n  constructor(transakConfig: TransakConfig) {\n    if (!transakConfig?.apiKey) throw new Error('[Transak SDK] => Please enter your API Key');\n\n    this.#config = transakConfig;\n    this.#handleMessage = makeHandleEvents(eventEmitter);\n  }\n\n  static on = (type: '*' | keyof typeof Events, cb: (data: unknown) => void) => {\n    if (type === '*') {\n      (Object.keys(Events) as (keyof typeof Events)[]).forEach((eventName) => {\n        eventEmitter.on(Events[eventName], cb);\n      });\n    } else if (Events[type]) {\n      eventEmitter.on(type, cb);\n    }\n  };\n\n  init = () => {\n    if (!this.#isInitialized) {\n      this.#renderIframe();\n      this.#isInitialized = true;\n    }\n  };\n\n  cleanup = () => {\n    this.#styleElement?.remove();\n    this.#removeEventListener();\n    this.#iframeElement?.remove();\n    this.#isInitialized = false;\n  };\n\n  close = () => {\n    this.#styleElement?.remove();\n    this.#rootElement?.remove();\n    this.#removeEventListener();\n    this.#iframeElement = undefined;\n    this.#isInitialized = false;\n  };\n\n  getUser = () => {\n    this.#iframeElement?.contentWindow?.postMessage({ event_id: Events.TRANSAK_GET_USER_REQUEST }, '*');\n  };\n\n  logoutUser = () => {\n    this.#iframeElement?.contentWindow?.postMessage({ event_id: Events.TRANSAK_LOGOUT_USER_REQUEST }, '*');\n  };\n\n  #renderIframe = () => {\n    window.addEventListener('message', this.#handleMessage);\n\n    if (this.#config.containerId) {\n      const { styleElement, iframeElement } = renderIframeInCustomContainer(this.#config);\n\n      this.#styleElement = styleElement;\n      this.#iframeElement = iframeElement;\n    } else {\n      const { styleElement, rootElement, iframeElement } = renderIframeInModal(this.#config, this.#closeRequest);\n\n      this.#styleElement = styleElement;\n      this.#rootElement = rootElement;\n      this.#iframeElement = iframeElement;\n    }\n  };\n\n  #closeRequest = () => {\n    this.#iframeElement?.contentWindow?.postMessage({ event_id: Events.TRANSAK_WIDGET_CLOSE_REQUEST }, '*');\n  };\n\n  #removeEventListener = () => {\n    eventEmitter.removeAllListeners();\n    window.removeEventListener('message', this.#handleMessage);\n  };\n}\n\nexport { Transak };\n","export enum Environments {\n  DEVELOPMENT = 'DEVELOPMENT',\n  STAGING = 'STAGING',\n  PRODUCTION = 'PRODUCTION',\n}\n","export enum Events {\n  TRANSAK_WIDGET_INITIALISED = 'TRANSAK_WIDGET_INITIALISED',\n  TRANSAK_ORDER_CREATED = 'TRANSAK_ORDER_CREATED',\n  TRANSAK_ORDER_SUCCESSFUL = 'TRANSAK_ORDER_SUCCESSFUL',\n  TRANSAK_ORDER_CANCELLED = 'TRANSAK_ORDER_CANCELLED',\n  TRANSAK_ORDER_FAILED = 'TRANSAK_ORDER_FAILED',\n  TRANSAK_WALLET_REDIRECTION = 'TRANSAK_WALLET_REDIRECTION',\n  TRANSAK_WIDGET_CLOSE_REQUEST = 'TRANSAK_WIDGET_CLOSE_REQUEST',\n  TRANSAK_WIDGET_CLOSE = 'TRANSAK_WIDGET_CLOSE',\n  TRANSAK_USER_INFO_RECEIVED = 'TRANSAK_USER_INFO_RECEIVED',\n  TRANSAK_GET_USER_REQUEST = 'TRANSAK_GET_USER_REQUEST',\n  TRANSAK_LOGOUT_USER_REQUEST = 'TRANSAK_LOGOUT_USER_REQUEST',\n}\n","import qs from 'query-string';\nimport pako from 'pako';\nimport { WebAppUrls } from 'Constants/web-app-urls';\nimport { TransakConfig } from 'Types/sdk-config.types';\nimport { Environments } from 'Constants/environments';\nimport packageJson from 'package.json';\n\nexport function generateGlobalTransakUrl(configData: TransakConfig) {\n  const { name: sdkName, version: sdkVersion } = packageJson;\n  const { environment = Environments.STAGING } = configData;\n  const queryParams = { sdkName, sdkVersion };\n  let queryString = '';\n\n  (Object.keys(configData) as (keyof TransakConfig)[]).forEach((key) => {\n    if (['environment', 'widgetWidth', 'widgetHeight'].includes(key)) return;\n\n    if (['walletAddressesData', 'userData'].includes(key)) {\n      try {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        queryParams[key] = JSON.stringify(configData[key]);\n      } catch (e) {\n        /* empty */\n      }\n\n      return;\n    }\n\n    if (['nftData', 'sourceTokenData', 'cryptoCurrencyData', 'tokenData'].includes(key)) {\n      try {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        queryParams[key] = btoa(JSON.stringify(configData[key]));\n      } catch (e) {\n        /* empty */\n      }\n\n      return;\n    }\n\n    if (['calldata'].includes(key)) {\n      try {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        queryParams[key] = btoa(String.fromCharCode.apply(null, pako.deflate(configData[key])));\n      } catch (e) {\n        /* empty */\n      }\n\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    queryParams[key] = configData[key];\n  });\n\n  queryString = qs.stringify(queryParams, { arrayFormat: 'comma' });\n\n  return `${WebAppUrls[environment]}?${queryString}`;\n}\n","import { Environments } from './environments';\n\nexport const WebAppUrls = {\n  [Environments.DEVELOPMENT]: 'https://localhost:5005/',\n  [Environments.STAGING]: 'https://global-stg.transak.com',\n  [Environments.PRODUCTION]: 'https://global.transak.com',\n};\n","{\n  \"name\": \"@transak/transak-sdk\",\n  \"version\": \"3.2.2\",\n  \"description\": \"Transak SDK that allows you to easily integrate fiat on/off ramp\",\n  \"type\": \"module\",\n  \"types\": \"lib/index.d.ts\",\n  \"main\": \"lib/index.cjs\",\n  \"exports\": {\n    \".\": {\n      \"import\": {\n        \"types\": \"./lib/index.d.ts\",\n        \"default\": \"./lib/index.js\"\n      },\n      \"require\": {\n        \"types\": \"./lib/index.d.cts\",\n        \"default\": \"./lib/index.cjs\"\n      }\n    }\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"packageManager\": \"pnpm@10.0.0+sha512.b8fef5494bd3fe4cbd4edabd0745df2ee5be3e4b0b8b08fa643aa3e4c6702ccc0f00d68fa8a8c9858a735a0032485a44990ed2810526c875e416f001b17df12b\",\n  \"files\": [\n    \"lib/**/*\"\n  ],\n  \"scripts\": {\n    \"eslint\": \"eslint . --ext .ts\",\n    \"eslint:fix\": \"pnpm eslint --fix\",\n    \"build\": \"tsc && tsup\",\n    \"prepack\": \"pnpm build\",\n    \"packDev\": \"pnpm pack\"\n  },\n  \"author\": \"Transak\",\n  \"license\": \"ISC\",\n  \"homepage\": \"https://docs.transak.com/docs/web-integration#transak-sdk-reactvueangularts\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/Transak/transak-sdk\"\n  },\n  \"dependencies\": {\n    \"events\": \"^3.3.0\",\n    \"pako\": \"^2.1.0\",\n    \"query-string\": \"^9.1.1\"\n  },\n  \"devDependencies\": {\n    \"@types/events\": \"^3.0.3\",\n    \"@types/pako\": \"^2.0.3\",\n    \"@typescript-eslint/eslint-plugin\": \"^7.18.0\",\n    \"@typescript-eslint/parser\": \"^7.18.0\",\n    \"eslint\": \"^8.57.1\",\n    \"eslint-config-airbnb-base\": \"^15.0.0\",\n    \"eslint-config-airbnb-typescript\": \"^18.0.0\",\n    \"eslint-config-prettier\": \"^10.0.1\",\n    \"eslint-plugin-eslint-comments\": \"^3.2.0\",\n    \"eslint-plugin-import\": \"^2.31.0\",\n    \"eslint-plugin-no-relative-import-paths\": \"^1.6.1\",\n    \"eslint-plugin-prettier\": \"^5.2.3\",\n    \"eslint-plugin-promise\": \"^7.2.1\",\n    \"prettier\": \"^3.4.2\",\n    \"tsup\": \"^8.3.5\",\n    \"typescript\": \"5.5.4\"\n  },\n  \"keywords\": [\n    \"crypto\",\n    \"cryptocurrency\",\n    \"fiat\",\n    \"on\",\n    \"off\",\n    \"ramp\",\n    \"sdk\",\n    \"ts\",\n    \"js\"\n  ]\n}\n","export function createIframe(src: string) {\n  const iframe = document.createElement('iframe');\n\n  Object.assign(iframe, {\n    id: 'transakIframe',\n    allow: 'camera;microphone;payment',\n    src,\n  });\n\n  return iframe;\n}\n","export function generateCustomContainerCss() {\n  return `\n    #transakIframe{\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n  `;\n}\n","import { generateCustomContainerCss } from './generate-custom-container-css';\n\nexport function insertCustomContainerStyleToHtmlHead() {\n  const style = document.createElement('style');\n\n  style.innerHTML = generateCustomContainerCss();\n\n  document.getElementsByTagName('head')[0]?.appendChild(style);\n\n  return style;\n}\n","import { generateGlobalTransakUrl } from 'Utils/generate-global-transak-url';\nimport { createIframe } from 'Utils/create-iframe';\nimport { TransakConfig } from 'Types/sdk-config.types';\nimport { insertCustomContainerStyleToHtmlHead } from './insert-custom-container-style-to-html-head';\n\nexport function renderIframeInCustomContainer(config: TransakConfig) {\n  const styleElement = insertCustomContainerStyleToHtmlHead();\n  const iframeElement = createIframe(generateGlobalTransakUrl(config));\n\n  if (config.containerId) {\n    const containerIdElement = document.getElementById(config.containerId);\n\n    if (containerIdElement) {\n      containerIdElement.appendChild(iframeElement);\n    } else {\n      throw new Error('[Transak SDK] => Please enter a valid containerId');\n    }\n  }\n\n  return { styleElement, iframeElement };\n}\n","import { EventEmitter } from 'events';\nimport { Events } from 'Constants/events';\n\nexport function makeHandleEvents(eventEmitter: EventEmitter) {\n  return function handleEvents(event: MessageEvent<{ event_id: Events; data: unknown }>) {\n    if (event?.data?.event_id) {\n      // eslint-disable-next-line default-case\n      switch (event.data.event_id) {\n        case Events.TRANSAK_WIDGET_INITIALISED: {\n          eventEmitter.emit(Events.TRANSAK_WIDGET_INITIALISED, {\n            eventName: Events.TRANSAK_WIDGET_INITIALISED,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_ORDER_CREATED: {\n          eventEmitter.emit(Events.TRANSAK_ORDER_CREATED, {\n            eventName: Events.TRANSAK_ORDER_CREATED,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_ORDER_SUCCESSFUL: {\n          eventEmitter.emit(Events.TRANSAK_ORDER_SUCCESSFUL, {\n            eventName: Events.TRANSAK_ORDER_SUCCESSFUL,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_ORDER_CANCELLED: {\n          eventEmitter.emit(Events.TRANSAK_ORDER_CANCELLED, {\n            eventName: Events.TRANSAK_ORDER_CANCELLED,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_ORDER_FAILED: {\n          eventEmitter.emit(Events.TRANSAK_ORDER_FAILED, {\n            eventName: Events.TRANSAK_ORDER_FAILED,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_WALLET_REDIRECTION: {\n          eventEmitter.emit(Events.TRANSAK_WALLET_REDIRECTION, {\n            eventName: Events.TRANSAK_WALLET_REDIRECTION,\n            status: event.data.data,\n          });\n\n          break;\n        }\n\n        case Events.TRANSAK_WIDGET_CLOSE: {\n          eventEmitter.emit(Events.TRANSAK_WIDGET_CLOSE, {\n            eventName: Events.TRANSAK_WIDGET_CLOSE,\n            status: event.data.data,\n          });\n          break;\n        }\n\n        case Events.TRANSAK_USER_INFO_RECEIVED: {\n          eventEmitter.emit(Events.TRANSAK_USER_INFO_RECEIVED, {\n            eventName: Events.TRANSAK_USER_INFO_RECEIVED,\n            status: event.data.data,\n          });\n\n          break;\n        }\n      }\n    }\n  };\n}\n","const closeIcon = `\n  <svg id=\"transakCloseIcon\" viewBox=\"0 0 612 612\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M306,0C136.992,0,0,136.992,0,306s136.992,306,306,306c168.988,0,306-137.012,306-306S475.008,0,306,0z M414.19,387.147\n    c7.478,7.478,7.478,19.584,0,27.043c-7.479,7.478-19.584,7.478-27.043,0l-81.032-81.033l-81.588,81.588\n    c-7.535,7.516-19.737,7.516-27.253,0c-7.535-7.535-7.535-19.737,0-27.254l81.587-81.587l-81.033-81.033\n    c-7.478-7.478-7.478-19.584,0-27.042c7.478-7.478,19.584-7.478,27.042,0l81.033,81.033l82.181-82.18\n    c7.535-7.535,19.736-7.535,27.253,0c7.535,7.535,7.535,19.737,0,27.253l-82.181,82.181L414.19,387.147z\" />\n  </svg>\n`;\n\nexport { closeIcon };\n","export function generateModalCss(themeColor: string, width: string, height: string) {\n  const closeIconHeight = 36;\n  const closeIconHeightOnePart = 36 / 3;\n  const closeIconHeightTwoParts = (36 / 3) * 2;\n\n  return `\n    #transakRoot {\n      z-index: 9997;\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background: rgba(0, 0, 0, 0.6);\n    }\n\n    #transakModal {\n      z-index: 9998;\n      position: fixed;\n      width: ${width};\n      height: calc(${height} - ${closeIconHeightTwoParts}px);\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, calc(-50% - ${closeIconHeightOnePart}px));\n      margin-top: ${closeIconHeightTwoParts}px;\n    }\n\n    #transakCloseIcon {\n      z-index: 9999;\n      position: absolute;\n      width: 36px;\n      height: ${closeIconHeight}px;\n      top: -${closeIconHeightTwoParts}px;\n      right: 0;\n      transition: 0.5s;\n      color: #${themeColor};\n      background: white;\n      border-radius: 50%;\n    }\n\n    #transakCloseIcon:hover,\n    #transakCloseIcon:focus {\n      color: white;\n      background: #${themeColor};\n      cursor: pointer;\n    }\n\n    #transakIframe{\n      width: 100%;\n      height: 100%;\n      border: none;\n      border-radius: 10px;\n      background: white;\n    }\n\n    @media screen and (max-width: 600px) {\n      #transakModal {\n        width: 100%;\n        height: calc(100% - ${closeIconHeightTwoParts}px);\n      }\n\n      #transakIframe{\n        border-radius: 10px 10px 0 0;\n      }\n    }\n  `;\n}\n","import { TransakConfig } from 'Types/sdk-config.types';\nimport { generateModalCss } from './generate-modal-css';\n\nexport function insertModalStyleToHtmlHead(config: TransakConfig) {\n  const { themeColor = '1461db', widgetWidth = '480px', widgetHeight = '650px' } = config;\n  const style = document.createElement('style');\n\n  style.innerHTML = generateModalCss(themeColor, widgetWidth, widgetHeight);\n\n  document.getElementsByTagName('head')[0]?.appendChild(style);\n\n  return style;\n}\n","import { closeIcon } from 'Assets/svg/close-icon';\nimport { generateGlobalTransakUrl } from 'Utils/generate-global-transak-url';\nimport { createIframe } from 'Utils/create-iframe';\nimport { TransakConfig } from 'Types/sdk-config.types';\nimport { insertModalStyleToHtmlHead } from './insert-modal-style-to-html-head';\n\nexport function renderIframeInModal(config: TransakConfig, closeRequest: () => void) {\n  const styleElement = insertModalStyleToHtmlHead(config);\n  const rootElement = document.createElement('div');\n  const modal = document.createElement('div');\n  const iframeElement = createIframe(generateGlobalTransakUrl(config));\n\n  Object.assign(modal, {\n    id: 'transakModal',\n    innerHTML: closeIcon,\n  });\n\n  modal.appendChild(iframeElement);\n\n  Object.assign(rootElement, {\n    id: 'transakRoot',\n    onclick: () => closeRequest(),\n  });\n\n  rootElement.appendChild(modal);\n\n  document.getElementsByTagName('body')[0].appendChild(rootElement);\n\n  document.getElementById('transakCloseIcon')?.addEventListener('click', () => closeRequest());\n\n  return { styleElement, rootElement, iframeElement };\n}\n"],"mappings":"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","names":["events","Environments","Events","qs","pako","WebAppUrls","package_default","generateGlobalTransakUrl","configData","sdkName","sdkVersion","package_default","environment","queryParams","queryString","key","pako","qs","WebAppUrls","createIframe","src","iframe","generateCustomContainerCss","insertCustomContainerStyleToHtmlHead","style","generateCustomContainerCss","renderIframeInCustomContainer","config","styleElement","insertCustomContainerStyleToHtmlHead","iframeElement","createIframe","generateGlobalTransakUrl","containerIdElement","makeHandleEvents","eventEmitter","event","closeIcon","generateModalCss","themeColor","width","height","insertModalStyleToHtmlHead","config","themeColor","widgetWidth","widgetHeight","style","generateModalCss","renderIframeInModal","config","closeRequest","styleElement","insertModalStyleToHtmlHead","rootElement","modal","iframeElement","createIframe","generateGlobalTransakUrl","closeIcon","eventEmitter","events","Transak","#config","#styleElement","#rootElement","#iframeElement","#handleMessage","#isInitialized","Environments","Events","transakConfig","makeHandleEvents","type","cb","eventName","#renderIframe","#removeEventListener","styleElement","iframeElement","renderIframeInCustomContainer","rootElement","renderIframeInModal","#closeRequest"]}